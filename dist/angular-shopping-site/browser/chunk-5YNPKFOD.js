import{a as x}from"./chunk-BGPM6P37.js";import{a as w,b as O,e as S,i as F,j as T,k as A,m as P}from"./chunk-MQBGRNKI.js";import{Fa as y,Ja as p,Rb as h,T as C,Vb as v,Xa as l,Y as f,Ya as n,Z as _,Za as i,cb as M,ea as c,eb as s,gb as b,kb as r,lb as u,sa as a}from"./chunk-HE5TQUO2.js";function k(m,t){if(m&1&&(n(0,"option",13),r(1),i()),m&2){let e=t.$implicit;l("value",e),a(),u(e)}}function N(m,t){if(m&1){let e=M();n(0,"li",14)(1,"span",15),r(2),i(),n(3,"button",16),s("click",function(){let g=f(e).$implicit,d=b();return _(d.delete(g))}),r(4,"Delete"),i()()}if(m&2){let e=t.$implicit;a(2),u(e)}}var E=class m{products=C(x);categories=c(this.products.getCategories());newCategory=c("");renameFrom=c("");renameTo=c("");refresh(){this.categories.set(this.products.getCategories())}add(){let t=this.newCategory().trim();t&&(this.products.addCategory(t),this.newCategory.set(""),this.refresh())}rename(){let t=this.renameFrom().trim(),e=this.renameTo().trim();!t||!e||t===e||(this.products.renameCategory(t,e),this.renameFrom.set(""),this.renameTo.set(""),this.refresh())}delete(t){confirm(`Delete category "${t}"? Products will be moved to 'Uncategorized'.`)&&(this.products.deleteCategory(t),this.refresh())}static \u0275fac=function(e){return new(e||m)};static \u0275cmp=y({type:m,selectors:[["app-admin-categories"]],decls:26,vars:6,consts:[[1,"admin-categories"],[1,"toolbar"],[1,"panel"],[1,"row"],["type","text","placeholder","New category name","name","newCategory",3,"ngModelChange","ngModel"],[1,"primary",3,"click"],["name","renameFrom",3,"ngModelChange","ngModel"],["value","","disabled",""],[3,"value",4,"ngFor","ngForOf"],["type","text","placeholder","New name","name","renameTo",3,"ngModelChange","ngModel"],[1,"primary",3,"click","disabled"],[1,"category-list"],["class","item",4,"ngFor","ngForOf"],[3,"value"],[1,"item"],[1,"name"],[1,"danger",3,"click"]],template:function(e,o){e&1&&(n(0,"section",0)(1,"header",1)(2,"h2"),r(3,"Categories Management"),i()(),n(4,"div",2)(5,"h3"),r(6,"Add Category"),i(),n(7,"div",3)(8,"input",4),s("ngModelChange",function(d){return o.newCategory.set(d)}),i(),n(9,"button",5),s("click",function(){return o.add()}),r(10,"Add"),i()()(),n(11,"div",2)(12,"h3"),r(13,"Rename Category"),i(),n(14,"div",3)(15,"select",6),s("ngModelChange",function(d){return o.renameFrom.set(d)}),n(16,"option",7),r(17,"Select category to rename"),i(),p(18,k,2,2,"option",8),i(),n(19,"input",9),s("ngModelChange",function(d){return o.renameTo.set(d)}),i(),n(20,"button",10),s("click",function(){return o.rename()}),r(21,"Rename"),i()()(),n(22,"h3"),r(23,"All Categories"),i(),n(24,"ul",11),p(25,N,5,1,"li",12),i()()),e&2&&(a(8),l("ngModel",o.newCategory()),a(7),l("ngModel",o.renameFrom()),a(3),l("ngForOf",o.categories()),a(),l("ngModel",o.renameTo()),a(),l("disabled",!o.renameFrom()||!o.renameTo()),a(5),l("ngForOf",o.categories()))},dependencies:[v,h,P,T,A,w,F,O,S],styles:[".admin-categories[_ngcontent-%COMP%]{padding:1rem}.toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.panel[_ngcontent-%COMP%]{border:1px solid #eee;border-radius:.5rem;padding:.75rem;margin-bottom:1rem}.row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:.5rem}input[_ngcontent-%COMP%], select[_ngcontent-%COMP%]{padding:.5rem .6rem;border:1px solid #ddd;border-radius:.4rem}button.primary[_ngcontent-%COMP%]{background:#315efb;color:#fff;border:none;padding:.5rem .9rem;border-radius:.4rem;cursor:pointer}button.danger[_ngcontent-%COMP%]{color:#b00020;border:1px solid #ffccd2;background:#ffe9ec;padding:.4rem .75rem;border-radius:.4rem}.category-list[_ngcontent-%COMP%]{list-style:none;padding:0}.category-list[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.4rem .25rem;border-bottom:1px solid #eee}.category-list[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{font-weight:600}"]})};export{E as AdminCategoriesComponent};
