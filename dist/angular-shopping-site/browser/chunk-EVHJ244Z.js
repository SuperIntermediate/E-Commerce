import{a as D}from"./chunk-LXBKTAHS.js";import{a as w}from"./chunk-YFYQOU26.js";import{f as T}from"./chunk-SV7RER2E.js";import{Eb as E,Fa as P,Ra as s,Sa as m,T as l,Ub as k,Va as p,Vb as I,Wa as g,Xa as x,Y as f,Ya as n,Z as O,Za as t,_a as M,cb as b,eb as S,gb as c,jb as v,kb as i,lb as d,ob as h,sa as a,ub as y,wb as _,xb as u}from"./chunk-HE5TQUO2.js";var $=()=>["/products"],A=(r,o)=>o.id,B=(r,o)=>o.productId;function V(r,o){if(r&1){let e=b();n(0,"button",10),S("click",function(){f(e);let L=c().$implicit,N=c(2);return O(N.cancel(L.id))}),i(1,"Cancel Order"),t()}}function j(r,o){r&1&&(n(0,"span",7),i(1,"\u2014"),t())}function q(r,o){if(r&1&&(n(0,"li"),i(1),_(2,"currency"),t()),r&2){let e=o.$implicit;a(),h(" ",e.title," \xD7 ",e.quantity," \u2014 ",u(2,3,e.price*e.quantity)," ")}}function U(r,o){if(r&1&&(n(0,"tr")(1,"td"),i(2),t(),n(3,"td"),i(4),t(),n(5,"td"),i(6),t(),n(7,"td"),i(8),_(9,"currency"),t(),n(10,"td")(11,"span",5),i(12),t()(),n(13,"td"),s(14,V,2,0,"button",6)(15,j,2,0,"span",7),t()(),n(16,"tr",8)(17,"td",9)(18,"ul"),p(19,q,3,5,"li",null,B),t()()()),r&2){let e=o.$implicit;a(2),d(e.id),a(2),d(e.date),a(2),d(e.items.length),a(2),d(u(9,8,e.total)),a(3),v("cancelled",e.status==="CANCELLED"),a(),d(e.status),a(2),m(e.status==="PLACED"?14:15),a(5),g(e.items)}}function R(r,o){if(r&1&&(n(0,"table",3)(1,"thead")(2,"tr")(3,"th"),i(4,"Order ID"),t(),n(5,"th"),i(6,"Date"),t(),n(7,"th"),i(8,"Items"),t(),n(9,"th"),i(10,"Total"),t(),n(11,"th"),i(12,"Status"),t(),M(13,"th"),t()(),n(14,"tbody"),p(15,U,21,10,null,null,A),t()()),r&2){let e=c();a(15),g(e.orders())}}function Y(r,o){r&1&&(n(0,"p",4),i(1,"No orders yet."),t())}var F=class r{orderService=l(D);auth=l(w);orders=E(()=>{let o=this.auth.user();return o?this.orderService.getByUserId(o.id):[]});cancel(o){confirm("Are you sure you want to cancel this order?")&&this.orderService.cancel(o)}static \u0275fac=function(e){return new(e||r)};static \u0275cmp=P({type:r,selectors:[["app-orders-page"]],decls:8,vars:3,consts:[[1,"orders-page"],[1,"toolbar"],[1,"back",3,"routerLink"],[1,"orders-table"],[1,"empty"],[1,"status"],[1,"cancel"],[1,"muted"],[1,"order-items"],["colspan","6"],[1,"cancel",3,"click"]],template:function(e,C){e&1&&(n(0,"section",0)(1,"header",1)(2,"h1"),i(3,"Your Orders"),t(),n(4,"a",2),i(5,"\u2190 Continue Shopping"),t()(),s(6,R,17,0,"table",3)(7,Y,2,0,"p",4),t()),e&2&&(a(4),x("routerLink",y(2,$)),a(2),m(C.orders().length>0?6:7))},dependencies:[I,T,k],styles:[".orders-page[_ngcontent-%COMP%]{padding:1rem}.orders-page[_ngcontent-%COMP%]   .toolbar[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem}.orders-page[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.orders-page[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .orders-page[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border-bottom:1px solid #eee;padding:.5rem;text-align:left}.orders-page[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .order-items[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background:#fafafa}.orders-page[_ngcontent-%COMP%]   .orders-table[_ngcontent-%COMP%]   .order-items[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:.5rem 0;padding-left:1rem}.orders-page[_ngcontent-%COMP%]   .status[_ngcontent-%COMP%]{display:inline-block;padding:.125rem .375rem;border-radius:.25rem;background:#eef}.orders-page[_ngcontent-%COMP%]   .status.cancelled[_ngcontent-%COMP%]{background:#fee;color:#b00}.orders-page[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]{padding:.375rem .75rem;border:1px solid #c00;background:#fff;color:#c00;border-radius:.25rem;cursor:pointer}.orders-page[_ngcontent-%COMP%]   .cancel[_ngcontent-%COMP%]:hover{background:#fee}.orders-page[_ngcontent-%COMP%]   .muted[_ngcontent-%COMP%]{color:#999}.orders-page[_ngcontent-%COMP%]   .empty[_ngcontent-%COMP%]{color:#666}@media (max-width: 640px){.toolbar[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:.5rem}.orders-table[_ngcontent-%COMP%]{display:block;overflow-x:auto}}"]})};export{F as OrdersPageComponent};
